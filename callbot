#!/usr/bin/env php
<?php

require "vendor/autoload.php";

use Indatus\Callbot\Config;
use Indatus\Callbot\Commands\CallSingleCommand;
use Symfony\Component\Console\Application;
use Indatus\Callbot\Commands\CallStatusCommand;
use Indatus\Callbot\Factories\FileStoreFactory;
use Indatus\Callbot\Factories\CallServiceFactory;
use Indatus\Callbot\Factories\ScriptGeneratorFactory;

$application = new Application;
$application->add(
    new CallSingleCommand(
        new CallServiceFactory(new Config),
        new FileStoreFactory(new Config),
        new ScriptGeneratorFactory,
        new Config
    )
);

$application->add(
    new CallStatusCommand(
        new CallServiceFactory(new Config),
        new FileStoreFactory(new Config),
        new ScriptGeneratorFactory,
        new Config
    )
);
$application->run();
